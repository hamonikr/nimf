#
# PKGBUILD
# This file is part of Nimf.
# Author: Hodong Kim
# Unlike other files in the Nimf project,
# this PKGBUILD file is in the public domain.

pkgname=nimf-hamonikr
pkgver=1.3.1
pkgrel=1
pkgdesc="Nimf is an input method framework. Forked by hamonikr."
arch=('any')
url="https://github.com/hamonikr/nimf"
license=('LGPL3')
makedepends=('binutils' 'autoconf' 'automake' 'gcc' 'make' 'glib2' 'intltool'
             'gtk3' 'gtk2' 'qt5-base' 'libappindicator-gtk3' 'librsvg'
             'noto-fonts-cjk' 'libhangul' 'anthy' 'librime' 'libxkbcommon'
             'wayland' 'libxklavier' 'm17n-lib' 'm17n-db' 'gtk-doc')
depends=('glib2' 'gtk3' 'gtk2' 'qt5-base' 'libappindicator-gtk3' 'libhangul'
         'anthy' 'librime' 'libxkbcommon' 'wayland' 'libxklavier' 'm17n-lib'
         'm17n-db')
optdepends=('brise: Rime schema repository'
            'noto-fonts-cjk: Google Noto CJK fonts')
source=("https://github.com/hamonikr/nimf/archive/${pkgver}.tar.gz")
md5sums=('1016e3680e58e605b111720f0f6d8ab4')

build() {
	cd "$srcdir/nimf-$pkgver"
	./autogen.sh --prefix=/usr --enable-gtk-doc
	make -j2
}

package() {
	cd "$srcdir/nimf-$pkgver"
	make DESTDIR="${pkgdir}/" install
}
